#!/usr/bin/env bash

set -e

# parse options
opts=$(getopt --longoptions=colorscheme: --name "$0" --options "" -- "$@")
eval set -- $opts
unset opts

COLORSCHEME="default"

while [[ $# -gt 0 ]]; do
	case "$1" in
        "--colorscheme")
            COLORSCHEME="$2"
            shift 2
            ;;
        "--")
	  	    shift
	        break
        	;;
        *)
			echo "Error $1" >&2
			exit 1
            ;;
    esac
done

THEME="$1"

# validate
if [ -z "$THEME" ]; then
	echo "Missing first arg \"theme\"" >&2
	exit 1
fi

case "$THEME" in
    "wander")
        eww update mpris-list-default-icon="default_1.svg"
        eww update mpris-list-icons='{"mpv": "mpv_1.svg", "spotify": "spotify.svg", "rhythmbox": "rhythmbox.svg", "firefox": "firefox_1.svg", "musikcube": "musikcube.png", "elisa": "elisa.svg", "plasma-browser-integration": "plasma-browser-integration.svg"}'
        ;;
    *)
        ;;
esac
